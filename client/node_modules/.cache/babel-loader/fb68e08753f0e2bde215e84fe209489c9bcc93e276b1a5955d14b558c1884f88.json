{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UpdateBus(){const[busno,setbusno]=useState();console.log(busno);const[formData,setFormData]=useState({busname:'',busroute:'',time:'',service:'',mode:''});const navigate=useNavigate();// useEffect(() => {\n//     // Fetch the bus details to edit\n//     axios.get(`http://localhost:3001/bus/${busno}`)\n//         .then(response => setFormData(response.data))\n//         .catch(err => console.error(err));\n// }, [busno]);\nconst handleChange=e=>{const{name,value}=e.target;setFormData(prevData=>({...prevData,[name]:value}));};const handleSubmit=e=>{e.preventDefault();axios.put(`http://localhost:3001/bus/${busno}`,formData).then(data=>{console.log(data);alert(\"DATA UPDATED SUCCESS\");navigate('/busdata');// Redirect back to the bus list\n}).catch(err=>console.error(err));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Update Bus\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"addbus\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"busno\",onChange:e=>setbusno(e.target.value),placeholder:\"Enter Youer Update Bus No....\",required:true})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Bus Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"busname\",value:formData.busname,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Bus Route:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"busroute\",value:formData.busroute,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Time:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"time\",value:formData.time,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Service:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"service\",value:formData.service,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Mode (Day/Night):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"mode\",value:formData.mode,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-outline-primary addb\",children:\"Update\"})]})]});}export default UpdateBus;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","UpdateBus","busno","setbusno","console","log","formData","setFormData","busname","busroute","time","service","mode","navigate","handleChange","e","name","value","target","prevData","handleSubmit","preventDefault","put","then","data","alert","catch","err","error","children","onSubmit","className","type","onChange","placeholder","required"],"sources":["D:/bus booking system/client/src/components/admin/UpdateBus.js"],"sourcesContent":["import React, {  useState } from 'react';\r\nimport axios from 'axios';\r\nimport {  useNavigate } from 'react-router-dom';\r\n\r\nfunction UpdateBus() {\r\n    const [ busno, setbusno ] = useState();\r\n    console.log(busno);\r\n    \r\n    const [formData, setFormData] = useState({\r\n        busname: '',\r\n        busroute: '',\r\n        time: '',\r\n        service: '',\r\n        mode: '',\r\n    });\r\n    const navigate = useNavigate();\r\n\r\n    // useEffect(() => {\r\n    //     // Fetch the bus details to edit\r\n    //     axios.get(`http://localhost:3001/bus/${busno}`)\r\n    //         .then(response => setFormData(response.data))\r\n    //         .catch(err => console.error(err));\r\n    // }, [busno]);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData(prevData => ({ ...prevData, [name]: value }));\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        axios.put(`http://localhost:3001/bus/${busno}`, formData)\r\n            .then((data) => {\r\n                console.log(data);\r\n                alert(\"DATA UPDATED SUCCESS\")\r\n                navigate('/busdata'); // Redirect back to the bus list\r\n            })\r\n            .catch(err => console.error(err));\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h3>Update Bus</h3>\r\n            <form onSubmit={handleSubmit} className='addbus'>\r\n            <div>\r\n                    \r\n                    <input type=\"text\" name=\"busno\" onChange={(e) => setbusno(e.target.value)} placeholder='Enter Youer Update Bus No....' required />\r\n                </div>\r\n                <div>\r\n                    <label>Bus Name:</label>\r\n                    <input type=\"text\" name=\"busname\" value={formData.busname} onChange={handleChange} required />\r\n                </div>\r\n                <div>\r\n                    <label>Bus Route:</label>\r\n                    <input type=\"text\" name=\"busroute\" value={formData.busroute} onChange={handleChange} required />\r\n                </div>\r\n                <div>\r\n                    <label>Time:</label>\r\n                    <input type=\"text\" name=\"time\" value={formData.time} onChange={handleChange} required />\r\n                </div>\r\n                <div>\r\n                    <label>Service:</label>\r\n                    <input type=\"text\" name=\"service\" value={formData.service} onChange={handleChange} required />\r\n                </div>\r\n                <div>\r\n                    <label>Mode (Day/Night):</label>\r\n                    <input type=\"text\" name=\"mode\" value={formData.mode} onChange={handleChange} required />\r\n                </div>\r\n                <button type=\"submit\" className='btn btn-outline-primary addb'>Update</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UpdateBus;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}