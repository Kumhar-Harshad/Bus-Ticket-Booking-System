{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'react-router-dom';import Table from'react-bootstrap/Table';import'./css/availabelbus.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Availabelbus(){const[data,setData]=useState([]);const handleSelectBus=bus=>{alert(\"Next TO Passenger Details....\");localStorage.setItem('selectedBus',JSON.stringify(bus));// Ensure this line executes\n};useEffect(()=>{axios.get(\"http://localhost:3001/bus\").then(response=>{setData(response.data);console.log(response.data);}).catch(error=>{console.error(\"Error fetching data:\",error);});},[]);if(!data.length)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});// Show loading state if data is not yet available\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"Availabel-bus\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Availabel Bus\"}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"bg-warning\",children:\"BUS.No\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-warning\",children:\"Bus Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-warning\",children:\"Bus Route\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-warning\",children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-warning\",children:\"Service\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-warning\",children:\"Mode(Day/Night)\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-warning\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map(bus=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:bus.busno}),/*#__PURE__*/_jsx(\"td\",{children:bus.busname}),/*#__PURE__*/_jsx(\"td\",{children:bus.busroute}),/*#__PURE__*/_jsx(\"td\",{children:bus.time}),/*#__PURE__*/_jsx(\"td\",{children:bus.service}),/*#__PURE__*/_jsx(\"td\",{children:bus.mode}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/passengerdetail\",onClick:()=>handleSelectBus(bus),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-success\",children:\"Select\"})})})]},bus.busno))})]})]});}export default Availabelbus;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","Table","jsx","_jsx","jsxs","_jsxs","Availabelbus","data","setData","handleSelectBus","bus","alert","localStorage","setItem","JSON","stringify","get","then","response","console","log","catch","error","length","children","className","striped","bordered","hover","map","busno","busname","busroute","time","service","mode","to","onClick"],"sources":["D:/bus booking system/client/src/components/AvailabelBus.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport Table from 'react-bootstrap/Table';\r\nimport './css/availabelbus.css'\r\n\r\nfunction Availabelbus() {\r\n    const [data, setData] = useState([]);\r\n    const handleSelectBus = (bus) => {\r\n        alert(\"Next TO Passenger Details....\");\r\n        localStorage.setItem('selectedBus', JSON.stringify(bus)); // Ensure this line executes\r\n    };\r\n\r\n    useEffect(() => {\r\n        axios.get(\"http://localhost:3001/bus\")\r\n            .then((response) => {\r\n                setData(response.data);\r\n                console.log(response.data);\r\n\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error fetching data:\", error);\r\n            });\r\n    }, []);\r\n\r\n    if (!data.length) return <div>Loading...</div>; // Show loading state if data is not yet available\r\n\r\n    return (\r\n        <div className='Availabel-bus'>\r\n            <h3>Availabel Bus</h3>\r\n\r\n            <Table striped bordered hover>\r\n                <thead >\r\n                    <tr >\r\n                        <th className='bg-warning' >BUS.No</th>\r\n                        <th className='bg-warning'>Bus Name</th>\r\n                        <th className='bg-warning'>Bus Route</th>\r\n                        <th className='bg-warning'>Time</th>\r\n                        <th className='bg-warning'>Service</th>\r\n                        <th className='bg-warning'>Mode(Day/Night)</th>\r\n                        <th className='bg-warning'>Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {data.map((bus) => (\r\n                        <tr key={bus.busno}>\r\n                            <td>{bus.busno}</td>\r\n                            <td>{bus.busname}</td>\r\n                            <td>{bus.busroute}</td>\r\n                            <td>{bus.time}</td>\r\n                            <td>{bus.service}</td>\r\n                            <td>{bus.mode}</td>\r\n                            <td>\r\n\r\n                                <Link to='/passengerdetail' onClick={() => handleSelectBus(bus)}>\r\n                                    <button className='btn btn-outline-success'>Select</button>\r\n                                </Link>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </Table>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Availabelbus;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}