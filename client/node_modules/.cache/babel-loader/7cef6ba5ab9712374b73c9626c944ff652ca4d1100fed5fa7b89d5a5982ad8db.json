{"ast":null,"code":"import'./css/login.css';import{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[username,setUsername]=useState();const[password,setPassword]=useState();const navigate=useNavigate();const handleSubmit=e=>{e.preventDefault();axios.post('http://localhost:3001/login',{username,password}).then(result=>{console.log(result);if(result.data.client.username===username){// localStorage.setItem(\"login\", true);\nconst{token,client}=result.data;localStorage.setItem(\"token\",token);console.log(client);navigate('/');window.location.reload();}else{alert(\"Not Same Username And Password  \");}}).catch(err=>console.log(err));};return/*#__PURE__*/_jsx(\"div\",{className:\"login \",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"textbox\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"Username\",required:true,onChange:e=>setUsername(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"textbox\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",required:true,onChange:e=>setPassword(e.target.value)})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"I do not have a account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/singup\",children:\"Sing Up\"}),\"   \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Forget Passworad? \",/*#__PURE__*/_jsx(\"a\",{href:\"/forgetpass\",children:\"Click\"}),\" \"]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn bb\",children:\"Login\"})]})]})})});}export default Login;","map":{"version":3,"names":["useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","username","setUsername","password","setPassword","navigate","handleSubmit","e","preventDefault","post","then","result","console","log","data","client","token","localStorage","setItem","window","location","reload","alert","catch","err","className","children","onSubmit","type","name","placeholder","required","onChange","target","value","href"],"sources":["D:/bus booking system/client/src/components/Login.js"],"sourcesContent":["import './css/login.css'\r\nimport { useState } from 'react'\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\nfunction Login() {\r\n    const [username,setUsername] = useState();\r\n    const [password,setPassword] = useState();\r\n    const navigate = useNavigate()\r\n\r\n     const handleSubmit = (e) => {\r\n        \r\n        e.preventDefault()\r\n        axios.post('http://localhost:3001/login', {username,password})\r\n        .then(result => {console.log(result)\r\n            if (result.data.client.username === username) {\r\n                // localStorage.setItem(\"login\", true);\r\n                const { token, client } = result.data;\r\n                localStorage.setItem(\"token\", token)\r\n                console.log(client)\r\n                navigate('/')\r\n                window.location.reload()\r\n            }\r\n            else{\r\n                alert(\"Not Same Username And Password  \")\r\n            }\r\n      })\r\n        .catch(err => console.log(err))\r\n     }\r\n     \r\n     \r\n    return (\r\n        \r\n        <div className=\"login \" >\r\n            <div className=\"container\">\r\n                <div className=\"login-box\">\r\n                    <h2>Login</h2>\r\n                    <form onSubmit={handleSubmit}>\r\n                        <div className=\"textbox\">\r\n                        <input type=\"text\" name=\"username\" placeholder=\"Username\" required onChange={(e) => setUsername(e.target.value)} />\r\n                        </div>\r\n                        <div className=\"textbox\">\r\n                        <input type=\"password\" name='password' placeholder=\"Password\" required onChange={(e) => setPassword(e.target.value)} />\r\n                        </div>\r\n                       <p>I do not have a account? <a href=\"/singup\">Sing Up</a>   </p><p>Forget Passworad? <a href=\"/forgetpass\">Click</a> </p>\r\n                      \r\n                        <button type=\"submit\" className=\"btn bb\" >Login</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n       \r\n       \r\n    )\r\n}\r\n\r\nexport default Login"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}